# 2장 프로젝트 준비

Pet Clinit: 스프링 공식 프로젝트 간단한 웹 어플리케이션.

jar - java Archive
war - web application Archive

윈도우에서 maven이 설치되어있으면, mvnw를 쓰지말고 `mvn package`를 사용한다.
그리고 윈도우에서는 `java -jar target/*.jar`가 되지않는다. `java -jar target/spring-petclinic-2.1.0.BUILD-SNAPSHOT.jar`로 명명해줘서 해야하는듯 하다.

# 3장 프로젝트 소개

스프링 부트로 되어있기때문에 웹 에플리케이션에도 불구하고 자바 애플리케이션으로 띄울 수 있습니다. 그 안에 내장 톰캣이 동작하고 설정들이 되어있습니다.

스프링 프레임웍 할때 로그를 보는게 좋다.
요청을 들어가도 로그 메시지가 안보인다. 로그 설정파일로 가서 로깅 레벨을 더 디버깅 레벨로 바꾼다. 파일은 resources/application.properties에 있다.

owners/find라는 url로 들어오면 dispatchServlet으로 가게되고, dispatchServlet이 OnwerController에 있는 @getMapping이라는 애노테이션을 보고 initFindForm함수를 실행하면서 return 하는 부분에서 뷰 부분인 resources/templates/owners/findOwners.html을 가리키는 string인 "owners/findOwners"를 리턴하면서 해당 파일을 뷰로 처리한다.

즉 큰 틀은 @getMapping와 @postMapping을 통해 url과 http method를 명시하여 처리할 함수를 지정하고 처리한다.

html쪽은 thymeleaf를 사용하고있고, 그래서 form이 좀 다르다. input하는 부분도 좀 다르게 되어있다.

Owner의 상속관계는 Person에 lastName, firstName, age를 추가하였고, 이 Person을 상속받는 Owner은 address, telephone, pet리스트를 가지고 있다.
Hibernate를 사용하여 Query를 통하여 form에 대한 결과를 처리하는것이 있는데, 여기서 변수를 처리하는 방법은 `:name`이라고 처리한다.

`@Query("SELETE DISTINCT owner FROM Owner owner left join fetch owner.pets WHERE owner.firstName LIKE %:firstName%")`으로 쿼리를 처리한다.
그리고 핫로딩이 잘 안되어서 sync를 맞춰주는 명령을 내려줘야 html이 제대로 반영되어진다.
